"use strict";var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Action;typeof CustomEvent!="function"&&function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}n.prototype=Event.prototype;window.CustomEvent=n}();Action=function(){function n(t,i,r){var f=this,u;this._inertia=!0;this._ev={};this._cache={};this._queue=[];this._cb=i||function(n){t.dispatchEvent(new window.CustomEvent("action",{detail:n}))};r=r||{};for(u in n._defaults)r[u]=u in r?r[u]:n._defaults[u];this._inertia=r.inertia;(r.onmouse&&n.SPRT_MOUSE||r.onmouse===1)&&new n.Input.Mouse(t,this._callback.bind(this));(r.onwheel&&n.SPRT_MOUSE||r.onwheel===1)&&n.AInput.addListeners(t,"mousewheel DOMMouseScroll",function(n){var t={s:Math.pow(1.2,Math.max(-1,Math.min(1,n.wheelDelta||-n.detail))),isMulti:!1};t.isFirst=t.isLast=t.isWheel=!0;t.x=t.y=t.r=0;t.pageX=n.pageX;t.pageY=n.pageY;t.clientX=n.clientX;t.clientY=n.clientY;f._cb(t)});(r.ontouch&&n.SPRT_TOUCH||r.ontouch===1)&&new n.Input.Touch(t,this._callback.bind(this));(r.onpoint&&n.SPRT_POINT||r.onpoint===1)&&new n.Input.Point(t,this._callback.bind(this))}return n.prototype._callback=function(t,i){var r=this._cache,u={x:0,y:0,r:0,s:1,pageX:null,pageY:null,clientX:null,clientY:null,isFirst:t===n.EVTYPE.START,isLast:t===n.EVTYPE.END,isMulti:i.length>1,points:i,timestamp:Date.now()},c,l,a,v,f,o,s,y,e,h;if(i.length&&(r.pX=i[0].pageX,r.pY=i[0].pageY,r.cX=i[0].clientX,r.cY=i[0].clientY,u.isMulti&&(c=r.pX-i[1].clientX,l=r.pY-i[1].clientY,r.pX=(r.pX+i[1].pageX)/2,r.pY=(r.pY+i[1].pageY)/2,r.cX=(r.cX+i[1].clientX)/2,r.cY=(r.cY+i[1].clientY)/2,a=Math.sqrt(Math.pow(Math.abs(c),2)+Math.pow(Math.abs(l),2)),v=-Math.atan2(c,l))),u.pageX=r.pX,u.pageY=r.pY,u.clientX=r.cX,u.clientY=r.cY,u.isFirst||u.isLast||(u.x=r.cX-r.x,u.y=r.cY-r.y,u.s=a/r.d||1,u.r=v-r.r||0),r.x=r.cX,r.y=r.cY,r.d=a,r.r=v,this._cb(u),this._inertia)if(f=this._queue,o=this._inertiaFn,u.isLast){if(s=performance.now(),f.length<3||o.active&&s-o.active<20||i.length&&this._inertia<0){o.active=s;return}for(y=Date.now(),e=f.length-1;e>1;e--)h=Math.max(y-f[e].timestamp,1),r.vx=(r.vx+f[e].x/h)/2,r.vy=(r.vy+f[e].y/h)/2,i.length&&(r.vs=(r.vs+(f[e].s-1)/h)/2,r.vr=(r.vr+f[e].r/h)/2);r.vs=Math.max(-.001,Math.min(.001,r.vs));r.vr=Math.max(-.003,Math.min(.003,r.vr));f.length=0;o.active||(o.active=s,u.isLast=!(u.isFirst=u.isInertia=!0),u.isMulti=!!i.length,delete u.points,delete u.timestamp,this._ev=u,this._inertiaFn(0,s),u.isFirst=!1)}else u.isFirst&&(o.active=f.length=r.vx=r.vy=r.vs=r.vr=0),f.unshift(u)>6&&(f.length=6)},n.prototype._inertiaFn=function(n,t){var u=this,r=this._ev,i=this._cache;this._inertiaFn.active&&Math.abs(i.vx)>.015||Math.abs(i.vy)>.015||Math.abs(i.vr)>.0003||Math.abs(i.vs)>.0001?(r.x=n*i.vx,r.y=n*i.vy,r.r=n*i.vr,r.s=n*i.vs+1,i.vx*=.94,i.vy*=.94,i.vr*=.9,i.vs*=.9,requestAnimationFrame(function(n){return u._inertiaFn(n-t,n)})):(this._inertiaFn.active=0,r.isLast=!0,r.x=r.y=r.r=0,r.s=1);this._cb(r)},n.SPRT_MOUSE=!/mobile|ip(ad|hone|od)|android/i.test(navigator.userAgent),n.SPRT_TOUCH="ontouchstart"in window,n.SPRT_POINT="MSPointerEvent"in window,n._defaults={onmouse:!0,onwheel:!0,ontouch:!0,onpoint:!0,inertia:!0},n}(),function(n){var t,i,r;(function(n){n[n.START=1]="START";n[n.MOVE=2]="MOVE";n[n.END=4]="END";n[n.CANCEL=8]="CANCEL"})(n.EVTYPE||(n.EVTYPE={}));t=n.EVTYPE;i=function(){function n(t,i,r){var f=this,u;this.$=[];this._cb=i;this.listener=function(n){f.handler(n)};u=t.ownerDocument.defaultView||t.ownerDocument.parentWindow;n.addListeners(t,r.evTGT,this.listener,!1);n.addListeners(u,r.evWIN,this.listener,!1)}return n.addListeners=function(n,t,i,r){t.split(" ").forEach(function(t){n.addEventListener(t,i,r)})},n.removeListeners=function(n,t,i,r){t.split(" ").forEach(function(t){n.removeEventLister(t,i,r)})},n.prototype.handler=function(){},n.prototype.setPoint=function(n,t){t?this.$.splice(n,1,{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}):this.$.splice(n,1)},n}();n.AInput=i,function(n){var f=function(n){function i(t,r){n.call(this,t,r,i);this.offset=80}return __extends(i,n),i.prototype.handler=function(n,r){var u;if(r=r||i.evMAP[n.type],u=this.$,u.length||r===t.START)if(r&t.MOVE)if(u.length&&u.length===(n.shiftKey?2:this._which)){if(u.length===1)this.setPoint(0,n);else{var s=this.offset,f=this._ev,e=f.clientX-n.clientX+s,o=f.clientY-n.clientY-s;e||o||(e=o=1);u.splice(0,1,{pageX:f.pageX+e,pageY:f.pageY+o,clientX:f.clientX+e,clientY:f.clientY+o});u.splice(1,1,{pageX:f.pageX-e,pageY:f.pageY-o,clientX:f.clientX-e,clientY:f.clientY-o})}this._cb(r&t.START?t.START:t.MOVE,u)}else u.length&&(1===(u.length=n.shiftKey?2:this._which)?(this.setPoint(0,n),this.setPoint(1,null),this._cb(t.END,u)):(this._ev=n,this.handler(n,r+t.START)));else r===t.END?(u.length=0,this._cb(r,u)):r===t.START&&(this._which=n.which,1===(u.length=this._which<3?n.shiftKey?2:this._which:0)?this.setPoint(1,null):this._ev=n,this.handler(n,r+t.MOVE))},i.evMAP={mousedown:t.START,mousemove:t.MOVE,mouseup:t.END},i.evTGT="mousedown",i.evWIN="mousemove mouseup",i}(i),r,u;n.Mouse=f;r=function(n){function i(t,r){n.call(this,t,r,i)}return __extends(i,n),i.prototype.handler=function(n,t){n.preventDefault();t=t||i.evMAP[n.type];var r=this.$;(r.length=Math.min(n.touches.length,2))&&(this.setPoint(0,n.touches[0]),this.setPoint(1,n.touches[1]));this._cb(t,r)},i.evMAP={touchstart:t.START,touchmove:t.MOVE,touchend:t.END,touchcancel:t.CANCEL},i.evTGT="touchstart",i.evWIN="touchmove touchend touchcancel",i}(i);n.Touch=r;u=function(n){function i(t,r){n.call(this,t,r,i);this._pid=[]}return __extends(i,n),i.prototype.handler=function(n,r){if(n.pointerType!=="mouse"){n.preventDefault();r=r||i.evMAP[n.type];var e=this.$,f=this._pid,u=f.indexOf(n.pointerId);r&t.MOVE?u>-1&&(this.setPoint(u,n),this._cb(r&t.START?t.START:t.MOVE,e)):r===t.END?u>-1&&(this.setPoint(u,null),f.splice(u,1),this._cb(r,e)):r===t.START&&f.length<2&&(this.setPoint(1,f.push(n.pointerId)===1?null:n),this.handler(n,r+t.MOVE))}},i.evMAP={pointerdown:t.START,pointermove:t.MOVE,pointerup:t.END,pointercancel:t.CANCEL,pointerout:t.CANCEL,MSPointerDown:t.START,MSPointerMove:t.MOVE,MSPointerUp:t.END,MSPointerCancel:t.CANCEL},i.evTGT=window.navigator.msPointerEnabled?"MSPointerDown":"pointerdown",i.evWIN=window.navigator.msPointerEnabled?"MSPointerMove MSPointerUp MSPointerCancel":"pointermove pointerup pointercancel",i}(i);n.Point=u}(r=n.Input||(n.Input={}))}(Action||(Action={}));console.log("VAYU");
//# sourceMappingURL=vayu.min.js.map
